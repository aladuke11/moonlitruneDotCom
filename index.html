<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Moonlit Rune Portfolio</title>
    <link rel="stylesheet" href="styles.css?v=2">
</head>
<body>
    <header>
        <div class="title-box">
            <h1>Welcome to Moonlit Rune's Place</h1>
        </div>
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="projects.html">Projects</a></li>
                <li><a href="CyberpunkStore.html">Store</a></li>
            </ul>
        </nav>
    </header>

    <div id="debtBar" class="debt-bar" style="display: none;">
        <span class="debt-label">CryptoCorp Debt:</span>
        <span id="debtAmount" class="debt-amount">$0.00</span>
        <div class="debt-progress">
            <div id="debtFill" class="debt-fill"></div>
        </div>
        <button id="debtReduceBtn" class="debt-reduce-btn" style="display: none;" title="Hack debt (Requires HoloVision Goggles)">‚ö° HACK</button>
        <button id="resetBtn" class="debt-bar-reset">Reset</button>
    </div>

    <main>
        <section class="page-intro">
            <h2>About Moonlit Rune</h2>
            <p>I am learning web development and this is my personal space to showcase my projects and interests. I am mainly using this to tinker and bodgee around with HTML, CSS, and JavaScript.
            I currently work as a cashier but I aspire to become a web developer. I enjoy tabletop gaming, especially Dungeons & Dragons, and Fate. I love reading fantasy novels and exploring new technologies. This website is a reflection of my journey in learning web development and sharing my hobbies with the world.
            I am using this website to learn and practice my skills, so expect changes and updates as I continue to grow. Feel free to reach out if you have any questions or just want to chat about web development or gaming!</p>
        </section>
        <section class="page-content">
            <h2>Things that I'm Doing</h2>
            <article>
                <h3>Web Development</h3>
                <div class="content-row">
                    <p>Currently learning HTML, CSS, and JavaScript to build interactive web applications. Check out my <a href="projects.html">projects</a> to see what I've been working on!</p>
                    <!-- <figure>
                        <img src="images/8adfe9eb-0b2c-433d-9c08-f97a0f494f1a.png" alt="Web Development Image">
                        <figcaption>Web Development</figcaption>
                    </figure> -->
                </div>
            </article>
            <article>
                <h3>Tabletop Gaming</h3>
                <div class="content-row">
                    <p>Playing Dungeons & Dragons and other tabletop RPGs with friends. I also enjoy running the game, usually in a homebrew setting.</p>
                    <!-- <figure>
                        <img src="images/8adfe9eb-0b2c-433d-9c08-f97a0f494f1a.png" alt="Tabletop Gaming Image">
                        <figcaption>Tabletop Gaming</figcaption>
                    </figure> -->
                </div>
            </article>
        </section>
        <section class="page-content">
            <h2>My Favorite Things</h2>
            <article>
                <h3>Tabletop Games</h3>
                <div class="content-row">
                    <ul>
                        <li>Dungeons & Dragons 5e/5.5</li>
                        <li>Fate Core</li>
                        <li>Avatar Legends: The Roleplaying Game</li>
                        <li>In a hypotyhetical sense only: Pathfinder 2e</li>
                    </ul>
                    <p>These are some of my favorite tabletop games that I enjoy playing with friends. Each game offers a unique experience and storytelling opportunity.</p>
                    <!-- <figure>
                        <img src="images/8adfe9eb-0b2c-433d-9c08-f97a0f494f1a.png" alt="Tabletop Games Image">
                        <figcaption>Tabletop Games</figcaption>
                    </figure> -->
                </div>
            </article>
            <article>
                <h3>Books</h3>
                <div class="content-row">
                    <ul>
                        <li>"The Stormlight Archive" by Brandon Sanderson</li>
                        <li>"The Fifth Season" by N.K. Jemisin</li>
                        <li>Discworld series by Terry Pratchett</li>
                    </ul>
                    <p>These are some of my favorite books that I've read recently. I enjoy a wide variety of genres, but I especially love fantasy and science fiction.</p>
                    <!-- <figure>
                        <img src="images/8adfe9eb-0b2c-433d-9c08-f97a0f494f1a.png" alt="Books Image">
                        <figcaption>Books</figcaption>
                    </figure> -->
                </div>
            </article>
        </section>
        <section class="page-content">
            <h2>Where to find me</h2>
            <article>
                <h3>Social Media</h3>
                <div class="content-row">
                    <p>I don't have social media accounts right now, so mostly this website is the best place to find me. I mean if you know me you know how to reach me.</p>
                </div>
            </article>
        </section>
    </main>

    <!-- Code Vision Overlays (visible with HoloVision Goggles) -->
    <div id="codeOverlays" class="code-overlays" style="display: none;">
        <div class="code-snippet" data-section="header" style="top: 100px; left: 20px;">
            <div class="code-label">HEADER.HTML</div>
            <pre><code>&lt;header&gt;
  &lt;div class="title-box"&gt;
    &lt;h1&gt;Welcome&lt;/h1&gt;
  &lt;/div&gt;
&lt;/header&gt;</code></pre>
        </div>
        
        <div class="code-snippet" data-section="nav" style="top: 180px; right: 30px;">
            <div class="code-label">NAV.CSS</div>
            <pre><code>nav ul {
  display: flex;
  gap: 20px;
  list-style: none;
}</code></pre>
        </div>
        
        <div class="code-snippet" data-section="debt" style="top: 50px; right: 50px;">
            <div class="code-label">DEBT.JS</div>
            <pre><code>const debt = parseFloat(
  localStorage.getItem(
    'cryptoCorp_debt'
  )
) || 0;</code></pre>
        </div>
        
        <div class="code-snippet" data-section="main" style="bottom: 200px; left: 50px;">
            <div class="code-label">MAIN.HTML</div>
            <pre><code>&lt;section class="page-intro"&gt;
  &lt;h2&gt;About Moonlit Rune&lt;/h2&gt;
  &lt;p&gt;Learning web dev...&lt;/p&gt;
&lt;/section&gt;</code></pre>
        </div>
        
        <div class="code-snippet" data-section="footer" style="bottom: 50px; right: 40px;">
            <div class="code-label">FOOTER.HTML</div>
            <pre><code>&lt;footer&gt;
  &lt;p&gt;&copy; 2023&lt;/p&gt;
&lt;/footer&gt;</code></pre>
        </div>
    </div>

    <!-- Toggle button for code vision -->
    <button id="toggleCodeVision" class="code-vision-toggle" style="display: none;" title="Toggle Code Vision (HoloVision Goggles)">
        üëÅÔ∏è CODE VISION
    </button>

    <footer>
        <p>&copy; 2023 MoonlitRune's Place</p>
        <p>Background image from <a href="https://www.vecteezy.com">www.Vecteezy.com</a></p>
    </footer>

    <script>
        // Debt Bar Display Handler
        function updateDebtBar() {
            const debtBar = document.getElementById('debtBar');
            const debtAmount = document.getElementById('debtAmount');
            const debtFill = document.getElementById('debtFill');
            const debtReduceBtn = document.getElementById('debtReduceBtn');
            
            const debt = parseFloat(localStorage.getItem('cryptoCorp_debt')) || 0;
            const hasGoggles = localStorage.getItem('cryptoCorp_gogglesUnlocked') === 'true';
            
            if (debt > 0) {
                debtBar.style.display = 'flex';
                debtAmount.textContent = '$' + debt.toFixed(2);
                
                // Calculate fill percentage (max debt 2000)
                const fillPercent = Math.min((debt / 2000) * 100, 100);
                debtFill.style.width = fillPercent + '%';
                
                // Show hack button if goggles are unlocked
                if (hasGoggles && debtReduceBtn) {
                    debtReduceBtn.style.display = 'inline-block';
                } else if (debtReduceBtn) {
                    debtReduceBtn.style.display = 'none';
                }
            } else {
                debtBar.style.display = 'none';
            }
        }
        
        // Hack debt function (easter egg with goggles)
        function hackDebt() {
            const hasGoggles = localStorage.getItem('cryptoCorp_gogglesUnlocked') === 'true';
            const currentDebt = parseFloat(localStorage.getItem('cryptoCorp_debt')) || 0;
            
            if (!hasGoggles) {
                alert('You need HoloVision Goggles to perform this action!');
                return;
            }
            
            if (currentDebt <= 0) {
                alert('No debt to hack!');
                return;
            }
            
            // Reduce debt by 10%
            const reduction = currentDebt * 0.1;
            const newDebt = Math.max(currentDebt - reduction, 0);
            localStorage.setItem('cryptoCorp_debt', newDebt.toFixed(2));
            
            alert(`üîì HACK SUCCESSFUL!\n\nDebt reduced by $${reduction.toFixed(2)}\nRemaining debt: $${newDebt.toFixed(2)}`);
            updateDebtBar();
        }
        
        // Reset button handler
        function resetGame() {
            if (confirm('Are you sure you want to reset all progress? This will clear all debt, purchases, and unlocks.')) {
                localStorage.removeItem('cryptoCorp_debt');
                localStorage.removeItem('cryptoCorp_purchases');
                localStorage.removeItem('cryptoCorp_gogglesUnlocked');
                updateDebtBar();
                checkCodeVisionAccess();
                alert('Game reset complete!');
            }
        }
        
        // Code Vision Feature (HoloVision Goggles)
        let codeVisionActive = false;
        
        function checkCodeVisionAccess() {
            const hasGoggles = localStorage.getItem('cryptoCorp_gogglesUnlocked') === 'true';
            const toggleBtn = document.getElementById('toggleCodeVision');
            
            if (hasGoggles && toggleBtn) {
                toggleBtn.style.display = 'block';
            } else if (toggleBtn) {
                toggleBtn.style.display = 'none';
                // Hide overlays if goggles are removed
                const overlays = document.getElementById('codeOverlays');
                if (overlays) {
                    overlays.style.display = 'none';
                }
                codeVisionActive = false;
            }
        }
        
        function toggleCodeVision() {
            const hasGoggles = localStorage.getItem('cryptoCorp_gogglesUnlocked') === 'true';
            
            if (!hasGoggles) {
                alert('You need HoloVision Goggles to access Code Vision!');
                return;
            }
            
            const overlays = document.getElementById('codeOverlays');
            const toggleBtn = document.getElementById('toggleCodeVision');
            
            codeVisionActive = !codeVisionActive;
            
            if (codeVisionActive) {
                overlays.style.display = 'block';
                toggleBtn.classList.add('active');
                toggleBtn.textContent = 'üëÅÔ∏è CODE VISION ON';
                initDraggableSnippets();
            } else {
                overlays.style.display = 'none';
                toggleBtn.classList.remove('active');
                toggleBtn.textContent = 'üëÅÔ∏è CODE VISION';
            }
        }
        
        // Make code snippets draggable
        function initDraggableSnippets() {
            const snippets = document.querySelectorAll('.code-snippet');
            
            snippets.forEach(snippet => {
                let isDragging = false;
                let startX, startY;
                let startLeft, startTop;
                
                snippet.addEventListener('mousedown', dragStart);
                
                function dragStart(e) {
                    isDragging = true;
                    snippet.style.cursor = 'grabbing';
                    snippet.style.animation = 'codeGlitch 3s infinite';
                    
                    // Get current position
                    const rect = snippet.getBoundingClientRect();
                    startLeft = rect.left;
                    startTop = rect.top;
                    
                    startX = e.clientX;
                    startY = e.clientY;
                    
                    document.addEventListener('mousemove', dragMove);
                    document.addEventListener('mouseup', dragEnd);
                    
                    e.preventDefault();
                }
                
                function dragMove(e) {
                    if (!isDragging) return;
                    
                    const deltaX = e.clientX - startX;
                    const deltaY = e.clientY - startY;
                    
                    snippet.style.left = (startLeft + deltaX) + 'px';
                    snippet.style.top = (startTop + deltaY) + 'px';
                    snippet.style.right = 'auto';
                    snippet.style.bottom = 'auto';
                    
                    e.preventDefault();
                }
                
                function dragEnd() {
                    if (!isDragging) return;
                    
                    isDragging = false;
                    snippet.style.cursor = 'grab';
                    snippet.style.animation = 'codeGlitch 3s infinite, float 4s ease-in-out infinite';
                    
                    document.removeEventListener('mousemove', dragMove);
                    document.removeEventListener('mouseup', dragEnd);
                }
                
                // Set initial cursor
                snippet.style.cursor = 'grab';
            });
        }
        
        // Update debt bar on page load
        window.addEventListener('load', function() {
            updateDebtBar();
            checkCodeVisionAccess();
            
            const resetBtn = document.getElementById('resetBtn');
            const debtReduceBtn = document.getElementById('debtReduceBtn');
            const toggleCodeBtn = document.getElementById('toggleCodeVision');
            
            if (resetBtn) {
                resetBtn.addEventListener('click', resetGame);
            }
            if (debtReduceBtn) {
                debtReduceBtn.addEventListener('click', hackDebt);
            }
            if (toggleCodeBtn) {
                toggleCodeBtn.addEventListener('click', toggleCodeVision);
            }
        });
        
        // Listen for storage changes (when another tab updates debt)
        window.addEventListener('storage', function() {
            updateDebtBar();
            checkCodeVisionAccess();
        });
    </script>

</body>
</html>